import{E as t,a4 as e,M as o,r as i,h as a,o as r,c as s,w as u,a as n,H as l,m as p,i as d,j as c,b as f,d as k,f as m}from"./index.23888770.js";import{_ as b}from"./kui-button.00b140d6.js";import{o as y,d as _,r as v,_ as x}from"./kui-page.40f10ef7.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as h}from"./kui-cell-group.81ac2330.js";import{_ as j}from"./kui-space.43763e84.js";import{u as w}from"./element.d2f3f744.js";import"./kui-spin.556d3440.js";import"./kui-icons.7ba34cc0.js";var S=g(t({name:"kui-sticky",props:{position:{type:String,default:"top"},top:{type:Number,default:0},bottom:{type:Number,default:0},zIndex:{type:Number,default:1e3},container:{type:Object},containerId:{type:String,default:""},proxy:{type:Object}},options:{virtualHost:!0},setup(t){e();const r=o((()=>{const e=i({});let o=t.top?t.top:0,a=t.bottom?t.bottom:0;return o=0===o?44:t.top,"top"===t.position?e.top=`${o}px`:e.bottom=`${a}px`,t.container&&(e.top="44px"),t.containerId&&(e.top=""),e}));let s=i({});return a((()=>{})),{rootStyle:r,observerStyle:s,observerStart:t=>{0===t.intersectionRatio?s.top="44px":s.top=""},observerEnd:t=>{0===t.intersectionRatio?s.top="":s.top="44px"}}}}),[["render",function(t,e,o,i,a,c){const f=d;return r(),s(f,{class:"kui-absolute kui-bg-transparent kui-h-full",style:{"z-index":"999"}},{default:u((()=>[n(f,{class:"kui-relative1 kui-sticky",style:p([t.rootStyle,t.observerStyle])},{default:u((()=>[l(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3})}],["__scopeId","data-v-7a1a2863"]]);var I=g({setup(t){const o=e(null),{proxy:i}=k(),a=c(i),r=c(i);return y((()=>{w(o,"container").then((t=>{a.relativeToViewport({top:-t.height}).observe("#container",(t=>{i.$refs.sticky.observerStart(t)})),r.relativeToViewport({top:-120}).observe("#container",(t=>{i.$refs.sticky.observerEnd(t)}))}))})),_((()=>{a.disconnect(),r.disconnect()})),{container:o,proxy:i}}},[["render",function(t,e,o,i,a,l){const p=v(m("kui-button"),b),c=v(m("kui-sticky"),S),k=d,y=v(m("kui-cell-group"),h),_=v(m("kui-space"),j),g=v(m("kui-page"),x);return r(),s(k,{id:"page-app"},{default:u((()=>[n(g,{"custom-header":!1,paddingY:0},{default:u((()=>[n(k,{class:"body kui-w-full kui-h-full kui-box-border kui-absolute kui-inset-t-0 kui-inset-l-0 kui-p-3"},{default:u((()=>[n(_,{gap:[30,0],direction:"column"},{default:u((()=>[n(y,{title:"基本用法"},{default:u((()=>[n(k,{class:"kui-h-full"},{default:u((()=>[n(k,{class:"kui-bg-white kui-h-8 kui-p-3 kui-rounded-md"},{default:u((()=>[n(c,null,{default:u((()=>[n(p,{type:"primary"},{default:u((()=>[f("基本用法")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(y,{title:"吸顶距离"},{default:u((()=>[n(k,{class:"kui-h-full"},{default:u((()=>[n(k,{class:"kui-bg-white kui-h-8 kui-p-3 kui-rounded-md"},{default:u((()=>[n(c,{top:100},{default:u((()=>[n(p,{type:"danger"},{default:u((()=>[f("吸顶距离100px")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(y,{title:"指定容器"},{default:u((()=>[n(k,{class:"kui-h-full"},{default:u((()=>[n(k,{class:"kui-bg-white kui-h-96 kui-p-3 kui-rounded-md",ref:"container",id:"container"},{default:u((()=>[n(c,{top:100,container:i.container,proxy:i.proxy,"container-id":"container",ref:"sticky"},{default:u((()=>[n(p,{type:"warning"},{default:u((()=>[f("指定容器")])),_:1})])),_:1},8,["container","proxy"])])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-1d5639fc"]]);export{I as default};
