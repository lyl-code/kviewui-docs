import{E as e,r as a,T as t,G as o,o as i,c as l,w as r,Q as n,R as d,l as c,a as s,b as u,I as k,m,S as g,q as f,d as p,U as h,K as C,i as v,$ as b,n as _,p as x,e as y,f as w,V as j}from"./index.23888770.js";import{_ as T}from"./kui-image.961bcbe6.js";import{a as B,b as R,r as M,_ as U}from"./kui-page.40f10ef7.js";import{_ as I}from"./kui-button.00b140d6.js";import{_ as $}from"./kui-text.130ddde7.js";import{_ as D,a as S}from"./kui-collapse.8f96c5ff.js";import{_ as E}from"./kui-popup.0967d527.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import"./kui-icons.7ba34cc0.js";import"./element.d2f3f744.js";import"./kui-spin.556d3440.js";import"./kui-overlay.d1291bf8.js";const L={change:function(e,a){a.selectComponent(".tabs-item").setStyle({transform:"translateX("+(e.currentTarget.offsetLeft-23)+"px)","transition-duration":e.currentTarget.dataset.duration+"ms"}),a.callMethod("wxsUpdateData",{index:e.currentTarget.dataset.id})}};var X=e=>{e.$wxs||(e.$wxs=[]),e.$wxs.push("tabs"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.tabs=L}})};const q=e({__name:"kui-tabs",props:{list:{default:[]},circle:{type:Boolean,default:!1},backgroundColor:{default:""},inactiveColor:{default:""},activeColor:{default:""},activeBackgroundColor:{default:""},duration:{default:400},mode:{default:"light"}},setup(e,{expose:b}){const _=e,{proxy:x}=p(),y=x.$theme,w=a({data:[],animationData:{},animation:{},active:!1,index:0,selectRect:[],currentTab:null,mode:_.mode,backgroundColor:_.backgroundColor?_.backgroundColor:y.colors.light.grey[2],activeBackgroundColor:_.activeBackgroundColor?_.activeBackgroundColor:y.colors.light.grey[2],activeColor:_.activeColor?_.activeColor:y.colors.light.grey[9],inactiveColor:_.inactiveColor?_.inactiveColor:y.colors.light.grey[5]}),j=()=>{w.backgroundColor="light"==w.mode?_.backgroundColor:_.backgroundColor?uni.kviewUIColor.generate(_.backgroundColor,{dark:!0,list:!1,index:6}):y.colors.dark.grey[3],w.activeBackgroundColor="light"==w.mode?_.activeBackgroundColor:_.activeBackgroundColor?uni.kviewUIColor.generate(_.activeBackgroundColor,{dark:!0,list:!1,index:6}):y.colors.dark.grey[2],w.activeColor="light"==w.mode?_.activeColor:_.activeColor?uni.kviewUIColor.generate(_.activeColor,{dark:!0,list:!1,index:6}):y.colors.dark.grey[8],w.inactiveColor="light"==w.mode?_.inactiveColor:_.inactiveColor?uni.kviewUIColor.generate(_.inactiveColor,{dark:!0,list:!1,index:6}):y.colors.dark.grey[6]};_.list.forEach(((e,a)=>{let t=0==a;w.data.push({id:a,txt:e,active:t,left:0,right:0}),setTimeout((()=>{console.log(w.selectRect[a],2222),w.data[a].left=w.selectRect[a].left,w.data[a].right=w.selectRect[a].right}),600),t&&(w.currentTab={id:a,txt:e,active:t,left:0,right:0}),j()}));const T=t().in(x);setTimeout((()=>{T.selectAll(".tabs-item").boundingClientRect((e=>{w.selectRect=e,w.selectRect=[...w.selectRect]})).exec()}),300),o("changeMode",(e=>{w.mode=e,j()}));return b({wxsUpdateData:e=>{let a=e.index;w.data.forEach(((e,t)=>{e.active=t==a}))}}),(a,t)=>{const o=C,p=v;return i(),l(p,{class:c(["kui-w-120 kui-h-8 kui-bg-gray-200 kui-flex kui-justify-between kui-p-2 kui-rounded kui-flex kui-items-center",e.circle?"kui-rounded-full":""]),style:m({backgroundColor:w.backgroundColor})},{default:r((()=>[(i(!0),n(g,null,d(w.data,((a,t)=>(i(),l(p,{key:t,class:c(["kui-p-2 kui-m-px kui-rounded tabs-item kui-z-10",e.circle?"kui-rounded-full":""]),onClick:e=>{var t;(t=a).active||(w.data.forEach(((e,a)=>{e.active=e.id==t.id})),w.active=!0,w.animation=h({duration:_.duration,timingFunction:"ease"}),w.animation.translateX(t.left-23).step(),w.animationData=w.animation.export(),w.index=t.id,setTimeout((()=>{w.active=!1,w.currentTab=t}),200))}},{default:r((()=>[s(o,{class:c(a.active?"":"kui-text-gray-500"),style:m({color:a.active?w.activeColor:w.inactiveColor})},{default:r((()=>[u(k(a.txt),1)])),_:2},1032,["class","style"])])),_:2},1032,["class","onClick"])))),128)),w.currentTab?(i(),l(p,{key:0,animation:w.animationData,class:c(["kui-bg-white kui-shadow-md kui-p-2 kui-rounded tabs-item kui-absolute",e.circle?"kui-rounded-full":""]),style:m({backgroundColor:w.activeBackgroundColor})},{default:r((()=>[s(o,{class:"kui-text-transparent"},{default:r((()=>[u(k(w.currentTab.txt),1)])),_:1})])),_:1},8,["animation","class","style"])):f("",!0)])),_:1},8,["class","style"])}}});X(q);var z=H({setup(){const{proxy:e}=p(),t=a({title:"Hello",mode:"light",accordion:!1,popupShow:!1});B((e=>{console.log(uni.kviewUIColor.generate("#00BC79",{dark:!0,list:!1,index:0}))}));let o=!1;R((()=>{o&&x("changeMode",t.mode)}));return{data:t,changeMode:()=>{t.mode="light"==t.mode?"dark":"light",o=!0,b("changeMode",t.mode)},changeShade:()=>{_((()=>{console.log(e.$refs.popup.open())}))},changeMode1:()=>{t.accordion=!t.accordion},onTaped:()=>{console.log(22222),y({url:"/pages/theme/theme"})},onChange:e=>{console.log(e)}}}},[["render",function(e,a,t,o,n,d){const c=M(w("kui-image"),T),k=M(w("kui-button"),I),m=M(w("kui-text"),$),g=j,f=v,p=M(w("kui-tabs"),q),h=C,b=M(w("kui-collapse-panel"),D),_=M(w("kui-collapse"),S),x=M(w("kui-popup"),E),y=M(w("kui-page"),U);return i(),l(y,{ref:"pageL",customHeader:!0,mode:o.data.mode},{body:r((()=>[s(f,{class:"kui-flex kui-flex-col kui-items-center kui-justify-center kui-pt-10 kui-pb-10"},{default:r((()=>[s(c,{src:"/static/kviewui.png",radius:10,width:440,height:110}),s(f,{class:"kui-mt-12"},{default:r((()=>[s(k,{mode:o.data.mode},{default:r((()=>[u("主要按钮")])),_:1},8,["mode"]),s(k,{mode:o.data.mode,type:"secondary"},{default:r((()=>[u("次要按钮")])),_:1},8,["mode"]),s(k,{mode:o.data.mode,type:"dashed"},{default:r((()=>[u("虚线按钮")])),_:1},8,["mode"]),s(k,{mode:o.data.mode,type:"outline"},{default:r((()=>[u("线形按钮")])),_:1},8,["mode"]),s(f,{class:"kui-mt-12"},{default:r((()=>[s(m,null,{default:r((()=>[u("暗黑模式：")])),_:1}),s(g,{checked:!1,onChange:o.changeMode},null,8,["onChange"])])),_:1}),s(f,{class:"kui-mt-12"},{default:r((()=>[s(m,null,{default:r((()=>[u("打开遮罩：")])),_:1}),s(g,{checked:!1,onChange:o.changeShade},null,8,["onChange"])])),_:1}),s(f,{class:"kui-mt-12"},{default:r((()=>[s(f,{onClick:o.onTaped},{default:r((()=>[s(k,null,{default:r((()=>[u("自定义主题生成器")])),_:1})])),_:1},8,["onClick"])])),_:1}),s(f,{class:"kui-mt-12"},{default:r((()=>[s(p,{list:["分类1","分类2"]})])),_:1})])),_:1})])),_:1}),s(f,{class:"kui-mt-12"},{default:r((()=>[s(f,{class:"kui-mt-12 kui-p-2"},{default:r((()=>[s(m,null,{default:r((()=>[u("手风琴效果：")])),_:1}),s(g,{checked:!1,onChange:o.changeMode1},null,8,["onChange"])])),_:1}),s(_,{accordion:o.data.accordion,onChange:o.onChange},{default:r((()=>[s(b,{name:"a",disabled:!1,"custom-arrow-icon":!0},{default:r((()=>[s(f,{class:""},{default:r((()=>[s(h,null,{default:r((()=>[u("自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容")])),_:1})])),_:1})])),_:1}),s(b,{name:"b"},{default:r((()=>[s(f,{class:""},{default:r((()=>[s(h,null,{default:r((()=>[u("自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容自定义内容")])),_:1})])),_:1})])),_:1})])),_:1},8,["accordion","onChange"])])),_:1}),s(f,{class:"kui-mt-10"})])),default:r((()=>[s(x,{ref:"popup"},null,512)])),_:1},8,["mode"])}],["__scopeId","data-v-c78e546e"]]);export{z as default};
